<!DOCTYPE html>
<head>
    <title>Login</title>
        <link href = "style.css" rel = "stylesheet" type = "text/css" /> <!--link for css file-->
        <meta name = "viewport" content = "width=device-width, initial-scale = 1.0" > <!--make web pag responsive-->
        
</head>
<body>
    <h1 class = "main-section">Coastal Carnage</h1>
    
    <nav class = "main-section">
        <a href = "/index">Intro</a>
        <a href = "/register">Register</a>
        <a href = "/game">Play</a>

    </nav>
    <div class = "main-section" id = "input-section">
        <h2>Login</h2>
        <!--removed from form tag action="/login" method="POST"-->
        <form id = "input-section" action="/login" method="POST">
            <label for="username">Username:</label>
            <br>
            <input type="text" id="username" name="username" value="Dave">
            <br>
            <label for="password">Password:</label>
            <br>
            <input type="password" id="password" name="password" value="password123">
            <br><br>
            <input type="submit" id="submit-btn" value="Submit">
        </form>
        <p id="test-output">Output here...</p>

    </div>
    
    <!--referencing/calling main.js script
    <script type="module" src="js/login.js"></script>-->
    <!-- <script>
        
        //make request to server for json data
        document.getElementById("input-section").addEventListener("submit", async (e) => {
            
            e.preventDefault(); //prevents form from refreshing page
            try {
                const response = await fetch('/login', {
                method: 'POST', 
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({username, password}),
                
            });
                
                //checks no error when making fetch request, response.ok is true for staus value of 200-299
                if (!response.ok){
                    throw new Error("Server didn't respond correctly");
                } 
                const data = await response.json(); //makes sure method is called properly
                               
                console.log("Received data", data); //output data received from server
                //display data on page
                
                document.getElementById("test-output").innerHTML = `Username: ${data.dataJson.username}, Highscore ${data.dataJson.highscore}, Games played: ${data.dataJson.gamesPlayed}`;
            
            } catch (error) {
                console.error("Error fetching data:", error);
                document.getElementById("test-output").innerHTML = "Error retrieving data.";
  
            }
            
        });

    </script> -->
    

</body>

